// form validation js v 20180918-1
// made by waldteufel@ukr.net

// CLASS NAME:
// .forvalJs

// LANGUAGE SUPPORT - form attribute
// data-forvalJs-lang='ua/ru/en'

// INPUT DATA-ATTRIBUTES:
// data-forvalJs-minLength='number'     : min length
// data-forvalJs-type='notEmpty'        : for "not empty"-prompting use data-forvalJs-minLength attribute
// data-forvalJs-type='email'           : x@x.x
// data-forvalJs-type='price'           : number.number / number
// data-forvalJs-type='password'        : number + symbol (length)
// data-forvalJs-type='confirmPassword' : password = password
// data-forvalJs-type='prompting'       : type for prompting

// BUTTON TYPES
// type='submit'
// type='reset'

$(document).ready(function(){var l,p=!0,n=!0,i=$("form.forvalJs").attr("data-forvalJs-lang");function s(t,a,r,e,o){J(a)&&(f(t,a,r,o,e),0==p)||J(r)&&(f(t,a,r,o,e),0==n)||("email"==e&&function(t,a){if(0==a.length)return;var r=d(a,"@");if(1!=r)return $(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0]?(l="ua"==i?"повинен бути символ @ (але тільки один)":"ru"==i?"должен быть символ @ (но только один)":"must be a @-character (but only one)",$($(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0]).text(l)):v(t,l="ua"==i?"повинен бути символ @ (але тільки один)":"ru"==i?"должен быть символ @ (но только один)":"must be a @-character (but only one)");var e=a.split("@");if(e[0].length<1||e[1].length<1)return $(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0]?(l="ua"==i?"пошта не може починатися або закінчуватися символом @":"ru"==i?"почта не может начинаться или заканчиваться символом @":"mail can not begin or end with a @-character",$($(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0]).text(l)):v(t,l="ua"==i?"пошта не може починатися або закінчуватися символом @":"ru"==i?"почта не может начинаться или заканчиваться символом @":"mail can not begin or end with a @-character");if(1!=(r=d(e[1],".")))return $(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0]?(l="ua"==i?"некоректне доменне ім'я":"ru"==i?"некорректное доменное имя":"incorrect domain name",$($(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0]).text(l)):v(t,l="ua"==i?"некоректне доменне ім'я":"ru"==i?"некорректное доменное имя":"incorrect domain name");if((e=e[1].split("."))[0].length<1||e[1].length<1)return $(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0]?(l="ua"==i?"некоректне доменне ім'я":"ru"==i?"некорректное доменное имя":"incorrect domain name",$($(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0]).text(l)):v(t,l="ua"==i?"некоректне доменне ім'я":"ru"==i?"некорректное доменное имя":"incorrect domain name");{if(0==p)return;u($(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0])}}(t,o),"price"==e&&function(t,a){if(0==a.length)return;if(0!=d(a," "))return $(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0]?(l="ua"==i?"ціна повинна бути числом (може мати тільки цифри та крапку)":"ru"==i?"цена должна быть числом (может содержать только цифры и точку)":"the price should be a number (can only contain numbers and a dot)",$($(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0]).text(l)):v(t,l="ua"==i?"ціна повинна бути числом (може мати тільки цифри та крапку)":"ru"==i?"цена должна быть числом (может содержать только цифры и точку)":"the price should be a number (can only contain numbers and a dot)");var r=d(a,".");if(r<1&&!J(a))return $(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0]?(l="ua"==i?"ціна повинна бути числом (може мати тільки цифри та крапку)":"ru"==i?"цена должна быть числом (может содержать только цифры и точку)":"the price should be a number (can only contain numbers and a dot)",$($(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0]).text(l)):v(t,l="ua"==i?"ціна повинна бути числом (може мати тільки цифри та крапку)":"ru"==i?"цена должна быть числом (может содержать только цифры и точку)":"the price should be a number (can only contain numbers and a dot)");if(1<r)return $(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0]?(l="ua"==i?"може бути тыльки одна крапка":"ru"==i?"может быть только одна точка":"maybe only one point",$($(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0]).text(l)):v(t,l="ua"==i?"може бути тыльки одна крапка":"ru"==i?"может быть только одна точка":"maybe only one point");if(1==r){var e=a.split(".");if(e[0].length<1||e[1].length<1)return $(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0]?(l="ua"==i?"ціна не може починатися або закінчуватися крапкою":"ru"==i?"цена не может начинаться или заканчиваться точкой":"price can not begin or end with a point",$($(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0]).text(l)):v(t,l="ua"==i?"ціна не може починатися або закінчуватися крапкою":"ru"==i?"цена не может начинаться или заканчиваться точкой":"price can not begin or end with a point");if(!J(e[0])||!J(e[1]))return $(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0]?(l="ua"==i?"ціна повинна бути числом (може мати тільки цифри та крапку)":"ru"==i?"цена должна быть числом (может содержать только цифры и точку)":"the price should be a number (can only contain numbers and a dot)",$($(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0]).text(l)):v(t,l="ua"==i?"ціна повинна бути числом (може мати тільки цифри та крапку)":"ru"==i?"цена должна быть числом (может содержать только цифры и точку)":"the price should be a number (can only contain numbers and a dot)")}{if(0==p)return;u($(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0])}}(t,o),"password"==e&&function(t,a){if(0==a.length)return;for(var r=hasSymbol=!1,e=a.split(""),o=0;o<e.length;o++)J(e[o])&&(r=!0),J(e[o])||(hasSymbol=!0);if(!hasSymbol||!r)return $(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0]?(l="ua"==i?"пароль повинен мати мінімум одну цифру і один символ":"ru"==i?"пароль должен иметь минимум одну цифру и один символ":"password must contain at least one digit and at least one character",$($(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0]).text(l)):v(t,l="ua"==i?"пароль повини мати мінімум одну цифру і символ":"ru"==i?"пароль должен иметь минимум одну цифру и один символ":"password must contain at least one digit and at least one character");var n=$(t).siblings('.forvalJs[data-forvalJs-type="confirmPassword"]')[0],s=$(n).val();if(0!=s.length){if(s!=a)return $(n).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0]?(l="ua"==i?"паролі не співпадають":"ru"==i?"пароли не совпадают":"passwords do not match",$($(n).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0]).text(l)):v(n,l="ua"==i?"паролі не співпадають":"ru"==i?"пароли не совпадают":"passwords do not match");u($(n).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0])}{if(0==p)return;u($(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0])}}(t,o),"confirmPassword"==e&&function(t,a){if($($(t).siblings('.forvalJs[data-forvalJs-type="password"]')[0]).val()!=a)return $(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0]?(l="ua"==i?"паролі не співпадають":"ru"==i?"пароли не совпадают":"passwords do not match",$($(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0]).text(l)):v(t,l="ua"==i?"паролі не співпадають":"ru"==i?"пароли не совпадают":"passwords do not match");{if(0==p)return;u($(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0])}}(t,o))}function f(t,a,r,e,o){if(J(a)){if(0==a&&""==e)return $(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0]?(l="ua"==i?"це поле не може бути пустим":"ru"==i?"это поле не может быть пустым":"this field can not be empty",void $($(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0]).text(l)):(p=!1,void v(t,l="ua"==i?"це поле не може бути пустим":"ru"==i?"это поле не может быть пустым":"this field can not be empty"));if(0!=a&&e.length<a)return $(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0]?(l="ua"==i?"довжина поля мінімум "+a+" символи (-ів)":"ru"==i?"длинна поля минимум "+a+" символов":"The length of the field is at least "+a+" symbols",void $($(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0]).text(l)):(p=!1,void v(t,l="ua"==i?"довжина поля мінімум "+a+" символи (-ів)":"ru"==i?"длинна поля минимум "+a+" символов":"The length of the field is at least "+a+" symbols"));p=!0}if(J(r)){if(e.length>r)return $(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0]?(l="ua"==i?"довжина поля максимум "+r+" символи (-ів)":"ru"==i?"длинна поля максимум "+r+" символов":"the length of the field can not exceed "+r+" characters",void $($(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0]).text(l)):(n=!1,void v(t,l="ua"==i?"довжина поля максимум "+r+" символи (-ів)":"ru"==i?"длинна поля максимум "+r+" символов":"the length of the field can not exceed "+r+" characters"));n=!0}if(("email"==o||"price"==o||"password"==o||"confirmPassword"==o)&&0!=a&&e.length<a)return console.log(2),void(p=!1);"email"!=o&&"price"!=o&&"password"!=o&&"confirmPassword"!=o&&u($(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0])}function v(t,a){$(t).after('<span></span><div class="forvalJs" data-forvalJs-type="prompting"></div>');var r=$(t).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0];$(r).css({height:"auto"}).text(a);var e,o,n=(e=r,o=e.getBoundingClientRect(),{top:o.top+pageYOffset,bottom:o.bottom+pageYOffset,left:o.left+pageXOffset,right:o.right+pageXOffset,height:o.bottom-o.top,width:o.right-o.left}).height;$(r).prev().remove(),$(r).remove(),$(t).after('<span></span><div class="forvalJs" data-forvalJs-type="prompting"></div>'),$(t).next().next('.forvalJs[data-forvalJs-type="prompting"]').css({height:n,"margin-bottom":"15px"}).text(a),$(t).css({transition:"margin-bottom .5s","margin-bottom":"2px"})}function u(t){$(t).css({height:0,"margin-bottom":0}),$(t).prev().prev().css({"margin-bottom":"15px"}),setTimeout(function(){$(t).prev().remove(),$(t).remove()},500)}function d(t,a){for(var r=count=0;;){var e=t.indexOf(a,r);if(-1==e)break;count++,r=e+1}return count}function J(t){return!isNaN(parseFloat(t))&&isFinite(t)}$("form.forvalJs").attr("novalidate","true"),"ua"==i?($('input.forvalJs[data-forvalJs-type="notEmpty"]').attr("placeholder","поле не пусте!"),$('input.forvalJs[data-forvalJs-type="email"]').attr("placeholder","введіть Вашу пошту"),$('input.forvalJs[data-forvalJs-type="price"]').attr("placeholder","введіть ціну"),$('input.forvalJs[data-forvalJs-type="password"]').attr("placeholder","введіть пароль"),$('input.forvalJs[data-forvalJs-type="confirmPassword"]').attr("placeholder","підтвердіть пароль"),$('button.forvalJs[type="submit"]').text("відправити"),$('button.forvalJs[type="reset"]').text("скинути")):"ru"==i?($('input.forvalJs[data-forvalJs-type="notEmpty"]').attr("placeholder","поле не пустое!"),$('input.forvalJs[data-forvalJs-type="email"]').attr("placeholder","введите Вашу почту"),$('input.forvalJs[data-forvalJs-type="price"]').attr("placeholder","введите цену"),$('input.forvalJs[data-forvalJs-type="password"]').attr("placeholder","введите пароль"),$('input.forvalJs[data-forvalJs-type="confirmPassword"]').attr("placeholder","подтвердите пароль"),$('button.forvalJs[type="submit"]').text("отправить"),$('button.forvalJs[type="reset"]').text("сбросить")):($('input.forvalJs[data-forvalJs-type="notEmpty"]').attr("placeholder","not empty"),$('input.forvalJs[data-forvalJs-type="email"]').attr("placeholder","enter your email"),$('input.forvalJs[data-forvalJs-type="price"]').attr("placeholder","enter your price"),$('input.forvalJs[data-forvalJs-type="password"]').attr("placeholder","enter your password"),$('input.forvalJs[data-forvalJs-type="confirmPassword"]').attr("placeholder","confirm your password")),$("input.forvalJs").bind("blur keyup",function(t){var a=$(this).attr("data-forvalJs-type"),r=+$(this).attr("data-forvalJs-minLength"),e=$(this).attr("data-forvalJs-maxLength"),o=(e=+$(this).attr("data-forvalJs-maxLength"),$(this).val());"blur"==t.type?s(this,r,e,a,o):"keyup"==t.type&&($(this).next().next('.forvalJs[data-forvalJs-type="prompting"]')[0]||$(this).next().next().next().next('.forvalJs[data-forvalJs-type="prompting"]')[0]&&"password"==a)&&s(this,r,e,a,o)}),$("button.forvalJs").click(function(t){var a=$(this).attr("type"),r=$("input.forvalJs");if("submit"==a){0!=$('.forvalJs[data-forvalJs-type="prompting"]').length&&t.preventDefault();for(var e=0;e<r.length;e++)$(r[e]).attr("data-forvalJs-minLength")&&0==$(r[e]).val().length&&(t.preventDefault(),0==$(r[e]).next().next('.forvalJs[data-forvalJs-type="prompting"]').length&&(l="ua"==i?"це поле не може бути пустим":"ru"==i?"это поле не может быть пустым":"this field can not be empty",v(r[e],l)))}if("reset"==a){var o=$('.forvalJs[data-forvalJs-type="prompting"]');for(e=0;e<o.length;e++)u(o[e])}})});